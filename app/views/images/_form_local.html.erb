<%= form_with(model: image, local: true, multipart: true) do |form| %>
  <div class="form-group">

        <span class="btn btn-success btn-file">
          1. <span id="file-label" style="white-space: normal; word-break: break-all;">Choose an image file to edit</span><%= form.file_field :data, id: :image_data %>
        </span>

  </div>
  <div class="form-group">
    <%= form.submit "2. Proceed to next step", class: 'btn btn-primary btn-sm link-button' %>
  </div>
<% end %>
<script>
  $(document).ready( function() {
    $("#image_data").on('change', function(){
        var fileName = $(this).val().split( '\\' ).pop();
        $("#file-label").text(fileName);
    });
  });
</script>